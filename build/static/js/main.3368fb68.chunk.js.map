{"version":3,"sources":["actions/ActionTypeKeys.ts","constants/FilterConstants.ts","reducers/filmsBest.ts","reducers/movie.ts","reducers/filmsSearch.ts","reducers/favoriteIds.ts","reducers/filmsFavorite.ts","reducers/filters.ts","reducers/searchMode.ts","reducers/error.ts","reducers/main.ts","store/store.ts","constants/constants.ts","constants/axios.ts","actions/fetchSearchFilms.ts","utilities/getSearchLink.ts","actions/addGenre.ts","actions/delGenre.ts","constants/genres.ts","components/SearchHeader/style.ts","components/SearchHeader/SearchHeader.tsx","containers/HeaderSearchContainer.tsx","actions/newSearchRequest.ts","actions/changeSort.ts","actions/changeSortDirection.ts","actions/changeSearchQuery.ts","components/Header/style.ts","components/Header/Header.tsx","components/App/style.ts","components/ErrorPage/style.ts","components/ErrorPage/ErrorPage.tsx","components/MainWrapperBoundary/MainWrapperBoundary.tsx","components/App/App.tsx","index.tsx"],"names":["ActionTypeKeys","__webpack_require__","d","__webpack_exports__","QUERY","FILTER","ASC","DESC","POPULARITY","sorts","name","id","init","isLoading","data","totalPages","currentPage","isFavorite","genres","sort","isAsc","query","isError","error","rootReducer","combineReducers","filmsBest","state","arguments","length","undefined","action","type","NEW_BEST_REQUEST","Object","objectSpread","GET_BEST_REQUEST","GET_BEST_SUCCESS","concat","toConsumableArray","payload","GET_ERROR","movie","GET_MOVIE_REQUEST","GET_MOVIE_SUCCESS","filmsSearch","NEW_SEARCH_REQUEST","GET_SEARCH_REQUEST","GET_SEARCH_SUCCESS","favoriteIds","ADD_FAV_ID","DEL_FAV_ID","filter","fav","filmsFavorite","GET_FAV_FILM_REQUEST","GET_FAV_FILM_SUCCESS","CLEAR_FAVS","filters","ADD_GENRE_ID","DEL_GENRE_ID","genre","CHANGE_SORT","CHANGE_SORT_DIRECTION","CHANGE_SEARCH_QUERY","searchMode","store","createStore","load","states","applyMiddleware","thunk","logger","save","API_KEY","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","axios","create","baseURL","timeout","fetchSearchFilms","page","link","_store$getState$filte","getState","encodeURIComponent","join","getSearchLink","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","res","total_pages","mappedFilmCardsData","wrap","_context","prev","next","Axios","get","sent","status","results","map","film","poster_path","title","overview","posterUrl","Error","status_code","t0","message","stop","_x","apply","this","addGenre","DelGenre","genresArray","JSON","parse","SearchInput","styled","input","_templateObject","SearchWrapper","div","_templateObject2","ToggleOpen","_templateObject3","SearchOptionsWrap","_templateObject4","ClickCatcher","_templateObject5","Genres","form","_templateObject6","GenreLabel","label","_templateObject7","Genre","_templateObject8","Sorts","_templateObject9","SortLabel","_templateObject10","Sort","_templateObject11","DirectionLabel","_templateObject12","Direction","_templateObject13","SearchHeader","props","_useState","useState","_useState2","slicedToArray","isOpen","setOpen","handleQuerySearch","handleToggleGenre","doesContainGenre","handleChangeSort","handleSortDirection","doesThisSort","genresInputs","react_default","createElement","key","toString","value","onChange","checked","htmlFor","sortsRadio","handleOpen","onKeyDown","e","keyCode","onClick","style","display","withRouter","connect","_state$filters","stateProps","dispatchProps","ownProps","startSearch","window","location","pathname","history","push","scrollTo","_ref2","_callee2","_context2","includes","delGenre","_ref3","_callee3","_context3","sortName","target","_x2","_ref4","_callee4","_context4","_ref5","_callee5","_context5","persist","text","_x3","timer","useRef","DelayWrapper","dispatchFn","StartTimer","current","setTimeout","_callee6","_context6","clearTimeout","_ref7","_callee7","_context7","_x4","handles","HeaderWrapper","header","style_templateObject","Logo","p","style_templateObject2","HeaderList","ul","style_templateObject3","HeaderItem","li","style_templateObject4","StyledLink","Link","style_templateObject5","HeaderItemSearch","style_templateObject6","Header","to","containers_HeaderSearchContainer","AppWrapper","App_style_templateObject","CenterLoadingWrapper","App_style_templateObject2","ErrorWrapper","ErrorPage_style_templateObject","ErrorTitle","h2","ErrorPage_style_templateObject2","ErrorText","ErrorPage_style_templateObject3","ErrorInfo","ErrorPage_style_templateObject4","ErrorPage","MainWrapper","main","MainWrapperBoundary_templateObject","MainWrapperBoundary","children","Component","Best","React","lazy","Promise","all","then","bind","FilmPageContainer","Search","Favorites","App","MainWrapperBoundary_MainWrapperBoundary","react","fallback","react_loading_default","color","react_router","exact","path","component","ReactDOM","render","es","react_router_dom","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.3368fb68.chunk.js","sourcesContent":["export enum ActionTypeKeys {\r\n\tGET_BEST_REQUEST = 'GET_BEST_REQUEST',\r\n\tGET_BEST_SUCCESS = 'GET_BEST_SUCCESS',\r\n\tNEW_BEST_REQUEST = 'NEW_BEST_REQUEST',\r\n\tGET_MOVIE_REQUEST = 'GET_MOVIE_REQUEST',\r\n\tGET_MOVIE_SUCCESS = 'GET_MOVIE_SUCCESS',\r\n\tGET_SEARCH_REQUEST = 'GET_SEARCH_REQUEST',\r\n\tGET_SEARCH_SUCCESS = 'GET_SEARCH_SUCCESS',\r\n\tNEW_SEARCH_REQUEST = 'NEW_SEARCH_REQUEST',\r\n\tCHANGE_SEARCH_QUERY = 'CHANGE_SEARCH_QUERY',\r\n\tGET_FAV_FILM_REQUEST = 'GET_FAV_FILM_REQUEST',\r\n\tGET_FAV_FILM_SUCCESS = 'GET_FAV_FILM_SUCCESS',\r\n\tGET_ERROR = 'GET_ERROR',\r\n\tADD_FAV_ID = 'ADD_FAV_ID',\r\n\tDEL_FAV_ID = 'DEL_FAV_ID',\r\n\tCLEAR_FAVS = 'CLEAR_FAVS',\r\n\tADD_GENRE_ID = 'ADD_GENRE_ID',\r\n\tDEL_GENRE_ID = 'DEL_GENRE_ID',\r\n\tCHANGE_SORT = 'CHANGE_SORT',\r\n\tCHANGE_SORT_DIRECTION = 'CHANGE_SORT_DIRECTION',\r\n}","export const QUERY = 'query'\r\nexport const FILTER = 'filter'\r\nexport const ASC = 'asc'\r\nexport const DESC = 'desc'\r\n\r\nexport const POPULARITY = 'popularity'\r\nexport const RELEASE_DATE = 'release_date'\r\nexport const REVENUE = 'revenue'\r\nexport const VOTE_AVERAGE = 'vote_average'\r\nexport const VOTE_COUNT = 'vote_count'\r\n\r\nexport type SearchSort = 'popularity' | 'release_date' | 'revenue' | 'vote_average' | 'vote_count'\r\n\r\nexport type SearchMode = 'filter' | 'query'\r\n\r\nexport interface Sort {\r\n\tname: string;\r\n\tid: SearchSort;\r\n}\r\n\r\ntype Sorts = Sort[]\r\n\r\nexport const sorts: Sorts = [\r\n\t{ name: 'Popularity', id: POPULARITY },\r\n\t{ name: 'Date', id: RELEASE_DATE },\r\n\t{ name: 'Revenue', id: REVENUE },\r\n\t{ name: 'Vote average', id: VOTE_AVERAGE },\r\n\t{ name: 'Vote count', id: VOTE_COUNT },\r\n]\r\n","import { ActionTypeKeys } from '../actions/ActionTypeKeys'\r\nimport { GetBestAction } from '../actions/ActionTypes'\r\nimport * as State from './State'\r\n\r\nexport const init: State.BestFilms = {\r\n\tisLoading: false,\r\n\tdata: [],\r\n\ttotalPages: 0,\r\n\tcurrentPage: 1,\r\n}\r\n\r\nexport default function filmsBest(state = init, action: GetBestAction): State.BestFilms {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypeKeys.NEW_BEST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tdata: [],\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_BEST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_BEST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tdata: [...state.data, ...action.payload.data],\r\n\t\t\t\ttotalPages: action.payload.totalPages,\r\n\t\t\t\tcurrentPage: state.currentPage + 1,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from '../actions/ActionTypeKeys'\r\nimport { GetMovieAction } from '../actions/ActionTypes'\r\nimport * as State from './State'\r\n\r\nexport const init: State.Movie = {\r\n\tisLoading: true,\r\n\tdata: null,\r\n\tisFavorite: false,\r\n}\r\n\r\nexport default function movie(state = init, action: GetMovieAction): State.Movie {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypeKeys.GET_MOVIE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t\tisFavorite: false,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_MOVIE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tdata: action.payload,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from '../actions/ActionTypeKeys'\r\nimport { GetSearchAction } from '../actions/ActionTypes'\r\nimport * as State from './State'\r\n\r\nexport const init: State.SearchFilms = {\r\n\tisLoading: false,\r\n\tdata: [],\r\n\ttotalPages: 0,\r\n\tcurrentPage: 1,\r\n}\r\n\r\nexport default function filmsSearch(state = init, action: GetSearchAction): State.SearchFilms {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypeKeys.NEW_SEARCH_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: [],\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_SEARCH_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_SEARCH_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tdata: [...state.data, ...action.payload.data],\r\n\t\t\t\ttotalPages: action.payload.totalPages,\r\n\t\t\t\tcurrentPage: state.currentPage + 1,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from '../actions/ActionTypeKeys'\r\nimport { FavoriteIdsAction } from '../actions/ActionTypes'\r\nimport * as State from './State'\r\n\r\nexport const init: State.FavoriteIds = {\r\n\tdata: [],\r\n}\r\n\r\nexport default function favoriteIds(state = init, action: FavoriteIdsAction): State.FavoriteIds {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypeKeys.ADD_FAV_ID:\r\n\t\t\treturn {\r\n\t\t\t\tdata: [...state.data, action.payload],\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.DEL_FAV_ID:\r\n\t\t\treturn {\r\n\t\t\t\tdata: state.data.filter(fav => fav !== action.payload),\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from '../actions/ActionTypeKeys'\r\nimport { GetFavoriteAction } from '../actions/ActionTypes'\r\nimport * as State from './State'\r\n\r\nexport const init: State.FavoriteFilms = {\r\n\tisLoading: false,\r\n\tdata: [],\r\n\ttotalPages: -1,\r\n\tcurrentPage: 1,\r\n}\r\n\r\nexport default function filmsFavorite(state = init, action: GetFavoriteAction): State.FavoriteFilms {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypeKeys.GET_FAV_FILM_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_FAV_FILM_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tdata: [...state.data, action.payload],\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.CLEAR_FAVS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdata: [],\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from '../actions/ActionTypeKeys'\r\nimport { FilterAction } from '../actions/ActionTypes'\r\nimport * as State from './State'\r\nimport { POPULARITY } from '../constants/FilterConstants'\r\n\r\nexport const init: State.Filter = {\r\n\tgenres: [],\r\n\tsort: POPULARITY,\r\n\tisAsc: false,\r\n\tquery: '',\r\n}\r\n\r\nexport default function filters(state = init, action: FilterAction): State.Filter {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypeKeys.ADD_GENRE_ID:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgenres: [...state.genres, action.payload],\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.DEL_GENRE_ID:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tgenres: state.genres.filter(genre => genre !== action.payload),\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.CHANGE_SORT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsort: action.payload,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.CHANGE_SORT_DIRECTION:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAsc: !state.isAsc,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.CHANGE_SEARCH_QUERY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tquery: action.payload,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from '../actions/ActionTypeKeys'\r\nimport { FilterAction } from '../actions/ActionTypes'\r\nimport { FILTER, QUERY } from '../constants/FilterConstants'\r\nimport * as State from './State'\r\n\r\nexport const init: State.SearchMode = QUERY\r\n\r\nexport default function searchMode(state = init, action: FilterAction) {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypeKeys.ADD_GENRE_ID:\r\n\t\tcase ActionTypeKeys.DEL_GENRE_ID:\r\n\t\tcase ActionTypeKeys.CHANGE_SORT:\r\n\t\tcase ActionTypeKeys.CHANGE_SORT_DIRECTION:\r\n\t\t\treturn FILTER\r\n\t\tcase ActionTypeKeys.CHANGE_SEARCH_QUERY:\r\n\t\t\treturn QUERY\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from '../actions/ActionTypeKeys'\r\nimport { ErrorAction } from '../actions/ActionTypes'\r\nimport * as State from './State'\r\n\r\nexport const init: State.Error = {\r\n\tisError: false,\r\n\terror: null,\r\n}\r\n\r\nexport default function error(state = init, action: ErrorAction): State.Error {\r\n\tswitch (action.type) {\r\n\t\tcase ActionTypeKeys.GET_BEST_REQUEST:\r\n\t\tcase ActionTypeKeys.GET_FAV_FILM_REQUEST:\r\n\t\tcase ActionTypeKeys.GET_SEARCH_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tisError: false,\r\n\t\t\t\terror: null,\r\n\t\t\t}\r\n\t\tcase ActionTypeKeys.GET_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\tisError: true,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport filmsBest from './filmsBest'\r\nimport movie from './movie'\r\nimport filmsSearch from './filmsSearch'\r\nimport favoriteIds from './favoriteIds'\r\nimport filmsFavorite from './filmsFavorite'\r\nimport filters from './filters'\r\nimport searchMode from './searchMode'\r\nimport error from './error'\r\n\r\nimport * as State from './State'\r\n\r\nexport interface AppState {\r\n\tfilmsBest: State.BestFilms;\r\n\tmovie: State.Movie;\r\n\tfilmsSearch: State.SearchFilms;\r\n\tfavoriteIds: State.FavoriteIds\r\n\tfilmsFavorite: State.FavoriteFilms;\r\n\tfilters: State.Filter;\r\n\tsearchMode: State.SearchMode;\r\n\terror: State.Error;\r\n}\r\n\r\nexport const rootReducer = combineReducers<AppState>({\r\n\tfilmsBest,\r\n\tmovie,\r\n\tfilmsSearch,\r\n\tfavoriteIds,\r\n\tfilmsFavorite,\r\n\tfilters,\r\n\tsearchMode,\r\n\terror,\r\n})\r\n\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { rootReducer } from '../reducers/main'\r\nimport thunk from 'redux-thunk'\r\nimport logger from 'redux-logger'\r\nimport { save, load } from 'redux-localstorage-simple'\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tload({ states: ['favoriteIds'] }),\r\n\tapplyMiddleware(thunk, logger, save({ states: ['favoriteIds'] }))\r\n)\r\n\r\nexport default store\r\n","const API_KEY = '9d923168206684ddbd944abae426483e'\r\n\r\nexport { API_KEY }\r\n","import axios from 'axios'\r\n\r\nexport default axios.create({\r\n\tbaseURL: 'https://api.themoviedb.org/3',\r\n\ttimeout: 10000,\r\n})\r\n","import { Action } from 'redux'\r\nimport FilmCard from '../models/FilmCard'\r\nimport { ActionTypeKeys } from './ActionTypeKeys'\r\nimport { AppState } from '../reducers/main'\r\nimport Axios from '../constants/axios'\r\nimport { ThunkAction } from 'redux-thunk'\r\nimport getSearchLink from '../utilities/getSearchLink'\r\n\r\nexport default function fetchSearchFilms(page: number): ThunkAction<void, AppState, null, Action<string>> {\r\n\tconst link = getSearchLink()\r\n\treturn async dispatch => {\r\n\t\tdispatch({\r\n\t\t\ttype: ActionTypeKeys.GET_SEARCH_REQUEST,\r\n\t\t})\r\n\t\ttry {\r\n\t\t\tlet res = await Axios.get(`${link}&page=${page}`)\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconst { data } = res\r\n\t\t\t\tconst { total_pages } = data\r\n\t\t\t\tconst mappedFilmCardsData: FilmCard[] = data.results.map(film => {\r\n\t\t\t\t\tconst { id, poster_path, title, overview } = film\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\toverview,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tposterUrl: poster_path,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ActionTypeKeys.GET_SEARCH_SUCCESS,\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tdata: mappedFilmCardsData,\r\n\t\t\t\t\t\ttotalPages: total_pages,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(res.data.status_code)\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ActionTypeKeys.GET_ERROR,\r\n\t\t\t\tpayload: err.message,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n","import store from '../store/store'\r\nimport { API_KEY } from '../constants/constants'\r\nimport { QUERY, FILTER, ASC, DESC } from './../constants/FilterConstants'\r\n\r\nexport default function getSearchLink() {\r\n\tconst { genres, sort, isAsc, query } = store.getState().filters\r\n\tconst mode = store.getState().searchMode\r\n\tswitch (mode) {\r\n\t\tcase QUERY:\r\n\t\t\tif (query.length > 0) {\r\n\t\t\t\treturn `/search/movie?api_key=${API_KEY}&query=${encodeURIComponent(query)}`\r\n\t\t\t} //not a bug but feature\r\n\t\tcase FILTER:\r\n\t\t\treturn `/discover/movie?api_key=${API_KEY}&vote_count.gte=200&sort_by=${sort}.${\r\n\t\t\t\tisAsc ? ASC : DESC\r\n\t\t\t}&with_genres=${genres.concat().join(',')}`\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from './ActionTypeKeys'\r\n\r\ninterface AddGenreAction {\r\n\ttype: ActionTypeKeys.ADD_GENRE_ID;\r\n\tpayload: number;\r\n}\r\n\r\nexport default function addGenre(id: number): AddGenreAction {\r\n\treturn {\r\n\t\ttype: ActionTypeKeys.ADD_GENRE_ID,\r\n\t\tpayload: id,\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from './ActionTypeKeys'\r\n\r\ninterface DelGenreAction {\r\n\ttype: ActionTypeKeys.DEL_GENRE_ID;\r\n\tpayload: number;\r\n}\r\n\r\nexport default function DelGenre(id: number): DelGenreAction {\r\n\treturn {\r\n\t\ttype: ActionTypeKeys.DEL_GENRE_ID,\r\n\t\tpayload: id,\r\n\t}\r\n}\r\n","import { Genre } from '../models/SpecifyMovie'\r\n\r\nconst genres = `{\r\n    \"genres\": [\r\n        {\r\n            \"id\": 28,\r\n            \"name\": \"Action\"\r\n        },\r\n        {\r\n            \"id\": 12,\r\n            \"name\": \"Adventure\"\r\n        },\r\n        {\r\n            \"id\": 16,\r\n            \"name\": \"Animation\"\r\n        },\r\n        {\r\n            \"id\": 35,\r\n            \"name\": \"Comedy\"\r\n        },\r\n        {\r\n            \"id\": 80,\r\n            \"name\": \"Crime\"\r\n        },\r\n        {\r\n            \"id\": 99,\r\n            \"name\": \"Documentary\"\r\n        },\r\n        {\r\n            \"id\": 18,\r\n            \"name\": \"Drama\"\r\n        },\r\n        {\r\n            \"id\": 10751,\r\n            \"name\": \"Family\"\r\n        },\r\n        {\r\n            \"id\": 14,\r\n            \"name\": \"Fantasy\"\r\n        },\r\n        {\r\n            \"id\": 36,\r\n            \"name\": \"History\"\r\n        },\r\n        {\r\n            \"id\": 27,\r\n            \"name\": \"Horror\"\r\n        },\r\n        {\r\n            \"id\": 10402,\r\n            \"name\": \"Music\"\r\n        },\r\n        {\r\n            \"id\": 9648,\r\n            \"name\": \"Mystery\"\r\n        },\r\n        {\r\n            \"id\": 10749,\r\n            \"name\": \"Romance\"\r\n        },\r\n        {\r\n            \"id\": 878,\r\n            \"name\": \"Science Fiction\"\r\n        },\r\n        {\r\n            \"id\": 10770,\r\n            \"name\": \"TV Movie\"\r\n        },\r\n        {\r\n            \"id\": 53,\r\n            \"name\": \"Thriller\"\r\n        },\r\n        {\r\n            \"id\": 10752,\r\n            \"name\": \"War\"\r\n        },\r\n        {\r\n            \"id\": 37,\r\n            \"name\": \"Western\"\r\n        }\r\n    ]\r\n}`\r\n\r\nconst genresArray: Genre[] = JSON.parse(genres).genres\r\n\r\nexport default genresArray\r\n","import styled from 'styled-components'\r\nconst SearchInput = styled.input`\r\n\twidth: 300px;\r\n\theight: 25px;\r\n\tbackground-color: #4871a0;\r\n\tcolor: Snow;\r\n\tborder-radius: 20px;\r\n\tborder: 2px solid #334860;\r\n\tfont-family: Roboto, Open Sans, Helvetica Neue, sans-serif;\r\n\t@media (max-width: 800px) {\r\n\t\tflex-shrink: 1;\r\n\t\twidth: auto;\r\n\t}\r\n\tpadding-left: 10px;\r\n`\r\nconst SearchWrapper = styled.div`\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\t@media (max-width: 400px) {\r\n\t\tposition: static;\r\n\t}\r\n`\r\nconst ToggleOpen = styled.div`\r\n\tposition: relative;\r\n\ttop: 5px;\r\n\tright: -5px;\r\n`\r\nconst SearchOptionsWrap = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\twidth: 100%;\r\n\theight: 500px;\r\n\tpadding: 10px;\r\n\tposition: absolute;\r\n\ttop: 32px;\r\n\tleft: 10px;\r\n\tbackground-color: #4a76a8;\r\n\tborder: 3px solid #446e99;\r\n\tbox-shadow: 0px 0px 10px -2px #000;\r\n\tborder-radius: 10px;\r\n\tdisplay: block;\r\n\tz-index: 9999999;\r\n\t@media (max-width: 800px) {\r\n\t\twidth: auto;\r\n\t}\r\n\t@media (max-width: 400px) {\r\n\t\ttop: 100px;\r\n\t\tleft: 0px;\r\n\t}\r\n`\r\nconst ClickCatcher = styled.div`\r\n\tposition: fixed;\r\n\twidth: 9999px;\r\n\theight: 9999px;\r\n\ttop: -3000px;\r\n\tleft: -3000px;\r\n\tbackground: rgb(0, 0, 0, 0.2);\r\n\tz-index: 99999;\r\n`\r\nconst Genres = styled.form`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\ttext-align: left;\r\n\tfont-size: 20px;\r\n\tpadding: 5px;\r\n`\r\n\r\nconst GenreLabel = styled.label`\r\n\tmargin-left: 20px;\r\n\tposition: relative;\r\n\twidth: 150px;\r\n\t&::before {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\tleft: -20px;\r\n\t\ttop: 7px;\r\n\t\twidth: 10px;\r\n\t\theight: 10px;\r\n\t\tborder: 2px solid #c9d8d8;\r\n\t}\r\n\t&::after {\r\n\t\tcontent: '';\r\n\t\tdisplay: none;\r\n\t\tposition: absolute;\r\n\t\tleft: -18px;\r\n\t\ttop: 9px;\r\n\t\twidth: 10px;\r\n\t\theight: 10px;\r\n\t\tbackground-color: #98d6d6;\r\n\t}\r\n`\r\nconst Genre = styled.input`\r\n\tdisplay: none;\r\n\t&:checked + ${GenreLabel}::after {\r\n\t\tdisplay: block;\r\n\t}\r\n`\r\n\r\nconst Sorts = styled.div`\r\n\tpadding: 5px;\r\n\ttext-align: left;\r\n\tfont-size: 20px;\r\n`\r\nconst SortLabel = styled(GenreLabel)`\r\n\t&::before {\r\n\t\tborder-radius: 10px;\r\n\t}\r\n\t&::after {\r\n\t\tborder-radius: 10px;\r\n\t}\r\n`\r\nconst Sort = styled(Genre)`\r\n\t&:checked + ${SortLabel}::after {\r\n\t\tdisplay: block;\r\n\t}\r\n`\r\nconst DirectionLabel = styled(GenreLabel)`\r\n\tmargin-left: 0;\r\n\t&::before {\r\n\t\tdisplay: none;\r\n\t}\r\n\t&::after {\r\n\t\tdisplay: none;\r\n\t}\r\n`\r\nconst Direction = styled(Genre)`\r\n\t&:checked + ${DirectionLabel}::after {\r\n\t\tdisplay: none;\r\n\t}\r\n`\r\n\r\nexport {\r\n\tSearchInput,\r\n\tSearchWrapper,\r\n\tToggleOpen,\r\n\tSearchOptionsWrap,\r\n\tClickCatcher,\r\n\tGenres,\r\n\tGenreLabel,\r\n\tGenre,\r\n\tSorts,\r\n\tSortLabel,\r\n\tSort,\r\n\tDirectionLabel,\r\n\tDirection,\r\n}\r\n","import React from 'react'\r\nimport { useState } from 'react'\r\nimport genres from '../../constants/genres'\r\nimport { sorts } from '../../constants/FilterConstants'\r\nimport { MergeProps as Props } from '../../containers/HeaderSearchContainer'\r\n\r\nimport {\r\n\tSearchInput,\r\n\tSearchWrapper,\r\n\tToggleOpen,\r\n\tSearchOptionsWrap,\r\n\tClickCatcher,\r\n\tGenres,\r\n\tGenreLabel,\r\n\tGenre,\r\n\tSorts,\r\n\tSortLabel,\r\n\tSort,\r\n\tDirectionLabel,\r\n\tDirection,\r\n} from './style'\r\n\r\nexport default function SearchHeader(props: Props) {\r\n\tconst [isOpen, setOpen] = useState(false)\r\n\tconst {\r\n\t\thandleQuerySearch,\r\n\t\tquery,\r\n\t\thandleToggleGenre,\r\n\t\tdoesContainGenre,\r\n\t\thandleChangeSort,\r\n\t\tisAsc,\r\n\t\thandleSortDirection,\r\n\t\tdoesThisSort,\r\n\t\terror,\r\n\t} = props\r\n\tconst genresInputs = genres.map(genre => (\r\n\t\t<div key={genre.id}>\r\n\t\t\t<Genre\r\n\t\t\t\tid={genre.id.toString()}\r\n\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\tvalue={genre.id}\r\n\t\t\t\tonChange={() => handleToggleGenre(genre.id)}\r\n\t\t\t\tchecked={doesContainGenre(genre.id)}\r\n\t\t\t/>\r\n\t\t\t<GenreLabel htmlFor={genre.id.toString()}>{genre.name}</GenreLabel>\r\n\t\t</div>\r\n\t))\r\n\tconst sortsRadio = sorts.map(sort => (\r\n\t\t<div key={sort.id}>\r\n\t\t\t<Sort\r\n\t\t\t\ttype=\"radio\"\r\n\t\t\t\tonChange={handleChangeSort}\r\n\t\t\t\tvalue={sort.id}\r\n\t\t\t\tid={sort.id}\r\n\t\t\t\tname=\"sort\"\r\n\t\t\t\tchecked={doesThisSort(sort.id)}\r\n\t\t\t/>\r\n\t\t\t<SortLabel htmlFor={sort.id}>{sort.name}</SortLabel>\r\n\t\t</div>\r\n\t))\r\n\tconst handleOpen = () => {\r\n\t\tif (error.isError) return\r\n\t\tsetOpen(!isOpen)\r\n\t}\r\n\treturn (\r\n\t\t<SearchWrapper>\r\n\t\t\t<SearchInput\r\n\t\t\t\tonChange={handleQuerySearch}\r\n\t\t\t\tonKeyDown={e => {\r\n\t\t\t\t\tif (e.keyCode === 13) {\r\n\t\t\t\t\t\thandleQuerySearch(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tvalue={query}\r\n\t\t\t/>\r\n\t\t\t<ToggleOpen onClick={handleOpen}>{isOpen ? '△' : '▽'}</ToggleOpen>\r\n\t\t\t<ClickCatcher onClick={handleOpen} style={{ display: isOpen ? 'block' : 'none' }} />\r\n\t\t\t<SearchOptionsWrap style={{ display: isOpen ? 'flex' : 'none' }}>\r\n\t\t\t\t<Genres>{genresInputs}</Genres>\r\n\t\t\t\t<Sorts>\r\n\t\t\t\t\t{sortsRadio}\r\n\t\t\t\t\t<Direction type=\"checkbox\" onChange={handleSortDirection} id=\"changeDirection\" />\r\n\t\t\t\t\t<DirectionLabel htmlFor=\"changeDirection\">Direction {isAsc ? '△' : '▽'}</DirectionLabel>\r\n\t\t\t\t</Sorts>\r\n\t\t\t</SearchOptionsWrap>\r\n\t\t</SearchWrapper>\r\n\t)\r\n}\r\n","import React, { SyntheticEvent } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport addGenre from './../actions/addGenre'\r\nimport delGenre from './../actions/delGenre'\r\nimport changeSort from './../actions/changeSort'\r\nimport changeSortDirection from './../actions/changeSortDirection'\r\nimport { useRef } from 'react'\r\nimport fetchSearchFilms from '../actions/fetchSearchFilms'\r\nimport changeSearchQuery from './../actions/changeSearchQuery'\r\nimport newSearchRequest from './../actions/newSearchRequest'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport SearchHeader from '../components/SearchHeader/SearchHeader'\r\nimport { AppState } from '../reducers/main'\r\nimport * as State from '../reducers/State'\r\nimport { Action } from 'redux'\r\nimport { ThunkDispatch } from 'redux-thunk'\r\nimport { SearchSort } from '../constants/FilterConstants'\r\n\r\ninterface StateFromProps {\r\n\tgenres: number[];\r\n\tisAsc: boolean;\r\n\tquery: string;\r\n\tisLoading: boolean;\r\n\tsort: string;\r\n\terror: State.Error;\r\n}\r\n\r\ninterface DispatchFromProps {\r\n\tdispatch: ThunkDispatch<AppState, null, Action<string>>;\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\r\ninterface OwnProps extends RouteComponentProps {\r\n}\r\n\r\ntype DispatchFnArg = number & SyntheticEvent & undefined\r\n\r\ntype DispatchFn = ToggleId | EventHandler | Void \r\n\r\ntype ToggleId = (id: number) => Promise<void>;\r\ntype EventHandler = (e: SyntheticEvent) => Promise<void>;\r\ntype Void = () => Promise<void>;\r\n\r\ninterface Handles {\r\n\thandleToggleGenre: ToggleId;\r\n\thandleQuerySearch: EventHandler;\r\n\thandleSortDirection: Void;\r\n\thandleChangeSort: EventHandler;\r\n}\r\n\r\nexport interface MergeProps extends Handles {\r\n\tdoesContainGenre: (id: number) => boolean;\r\n\tdoesThisSort: (value: string) => boolean;\r\n\tisAsc: boolean;\r\n\tquery: string;\r\n\terror: State.Error;\r\n\tisLoading: boolean;\r\n\tstartSearch: () => void;\r\n}\r\n\r\ninterface TimerRef {\r\n\tcurrent?: ReturnType<typeof setTimeout>;\r\n}\r\n\r\ninterface SortCheckbox {\r\n\tvalue: SearchSort;\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): StateFromProps => {\r\n\tconst { error } = state\r\n\tconst { genres, isAsc, query, sort } = state.filters\r\n\tconst { isLoading } = state.filmsSearch\r\n\treturn { genres, isAsc, query, isLoading, sort, error }\r\n}\r\nconst mapDispatchToProps = (dispatch: ThunkDispatch<AppState, null, Action<string>>): DispatchFromProps => {\r\n\treturn { dispatch }\r\n}\r\nconst mergeProps = (stateProps: StateFromProps, dispatchProps: DispatchFromProps, ownProps: OwnProps): MergeProps => {\r\n\tconst { genres, isAsc, isLoading, query, sort, error } = stateProps\r\n\tconst { dispatch } = dispatchProps\r\n\r\n\tconst doesContainGenre = (id: number) => {\r\n\t\treturn genres.includes(id)\r\n\t}\r\n\r\n\tconst doesThisSort = (value: string) => {\r\n\t\treturn sort === value\r\n\t}\r\n\r\n\tconst startSearch = async () => {\r\n\t\tif (window.location.pathname !== '/search') {\r\n\t\t\townProps.history.push('/search')\r\n\t\t}\r\n\t\tawait dispatch(newSearchRequest())\r\n\t\twindow.scrollTo(0,0)\r\n\t\tawait dispatch(fetchSearchFilms(1))\r\n\t}\r\n\r\n\tconst handleToggleGenre = async (id: number) => {\r\n\t\tif (genres.includes(id)) {\r\n\t\t\tdispatch(delGenre(id))\r\n\t\t} else {\r\n\t\t\tdispatch(addGenre(id))\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleChangeSort = async (e:SyntheticEvent) => {\r\n\t\tawait dispatch(changeSort((e.target as HTMLInputElement as SortCheckbox).value))\r\n\t}\r\n\r\n\tconst handleSortDirection = async () => {\r\n\t\tawait dispatch(changeSortDirection())\r\n\t}\r\n\r\n\tconst handleQuerySearch = async (e: SyntheticEvent) => {\r\n\t\te.persist()\r\n\t\tawait dispatch(changeSearchQuery((e.target as HTMLInputElement as SortCheckbox).value))\r\n\t}\r\n\t\r\n\treturn {\r\n\t\tdoesContainGenre,\r\n\t\tdoesThisSort,\r\n\t\tisAsc,\r\n\t\tquery,\r\n\t\terror,\r\n\t\thandleToggleGenre,\r\n\t\thandleQuerySearch,\r\n\t\thandleSortDirection,\r\n\t\thandleChangeSort,\r\n\t\tisLoading,\r\n\t\tstartSearch\r\n\t}\r\n}\r\n\r\nfunction HeaderSearchContainer(props: MergeProps) {\r\n\tconst { isLoading, startSearch } = props\r\n\tlet timer: TimerRef = useRef() //storage for search timer\r\n\r\n\tfunction DelayWrapper (dispatchFn: DispatchFn) {\r\n\t\tconst StartTimer = () => {\r\n\t\t\ttimer.current = setTimeout(async () => {\r\n\t\t\t\tawait startSearch()\r\n\t\t\t\tclearTimeout(timer.current)\r\n\t\t\t}, 1500)\r\n\t\t}\r\n\t\treturn async (value: DispatchFnArg) => {\r\n\t\t\tawait dispatchFn(value)\r\n\t\t\tclearTimeout(timer.current)\r\n\t\t\tStartTimer()\r\n\t\t\tif (isLoading) {\r\n\t\t\t\tStartTimer()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tconst handles: Handles = {\r\n\t\thandleQuerySearch: DelayWrapper(props.handleQuerySearch) as EventHandler,\r\n\t\thandleToggleGenre: DelayWrapper(props.handleToggleGenre) as ToggleId,\r\n\t\thandleSortDirection: DelayWrapper(props.handleSortDirection) as Void,\r\n\t\thandleChangeSort: DelayWrapper(props.handleChangeSort) as EventHandler,\r\n}\r\n\treturn <SearchHeader {...{...props, ...handles}} />\r\n}\r\n\r\nexport default withRouter(\r\n\tconnect(\r\n\t\tmapStateToProps,\r\n\t\tmapDispatchToProps,\r\n\t\tmergeProps\r\n\t)(HeaderSearchContainer)\r\n)\r\n","import { ActionTypeKeys } from './ActionTypeKeys'\r\n\r\nexport default function newSearchRequest() {\r\n\treturn {\r\n\t\ttype: ActionTypeKeys.NEW_SEARCH_REQUEST,\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from './ActionTypeKeys'\r\nimport { SearchSort } from '../constants/FilterConstants'\r\n\r\nexport interface ChangeSortAction {\r\n\ttype: ActionTypeKeys.CHANGE_SORT;\r\n\tpayload: string;\r\n}\r\n\r\nexport default function changeSort(sortName: SearchSort): ChangeSortAction {\r\n\treturn {\r\n\t\ttype: ActionTypeKeys.CHANGE_SORT,\r\n\t\tpayload: sortName,\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from './ActionTypeKeys'\r\n\r\nexport interface ChangeSortDirectionAction {\r\n\ttype: ActionTypeKeys.CHANGE_SORT_DIRECTION;\r\n}\r\n\r\nexport default function changeSortDirection(): ChangeSortDirectionAction {\r\n\treturn {\r\n\t\ttype: ActionTypeKeys.CHANGE_SORT_DIRECTION,\r\n\t}\r\n}\r\n","import { ActionTypeKeys } from './ActionTypeKeys'\r\n\r\nexport interface ChangeSearchQueryAction {\r\n\ttype: ActionTypeKeys.CHANGE_SEARCH_QUERY;\r\n\tpayload: string;\r\n}\r\n\r\nexport default function changeSearchQuery(text: string): ChangeSearchQueryAction {\r\n\treturn {\r\n\t\ttype: ActionTypeKeys.CHANGE_SEARCH_QUERY,\r\n\t\tpayload: text,\r\n\t}\r\n}\r\n","import styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst HeaderWrapper = styled.header`\r\n\tposition: sticky;\r\n\ttop: 0;\r\n\tbackground-color: #4a76a8;\r\n\theight: 50px;\r\n\tborder-bottom: 2px solid #446e99;\r\n\tbox-shadow: 0px 0px 10px 0px black;\r\n\tz-index: 9999;\r\n\t@media (max-width: 400px) {\r\n\t\theight: 100px;\r\n\t}\r\n\t@media (max-width: 400px) {\r\n\t\ttop: 100px;\r\n\t\tleft: 0px;\r\n\t\tposition: static;\r\n\t\tpadding: 0px 20px;\r\n\t}\r\n`\r\n\r\nconst Logo = styled.p`\r\n\tcolor: #edeef0;\r\n\tmargin: auto 0;\r\n\ttext-shadow: 0px 0px 10px #edeef0;\r\n\tbackground-size: contain;\r\n\tfont-size: 30px;\r\n\talign-self: center;\r\n\tfont-family: Lucida Sans Unicode, Lucida Grande, sans-serif;\r\n\t@media (max-width: 800px) {\r\n\t\tfont-size: 20px;\r\n\t}\r\n\t@media (max-width: 600px) {\r\n\t\tdisplay: none;\r\n\t}\r\n`\r\n\r\nconst HeaderList = styled.ul`\r\n\tlist-style: none;\r\n\tdisplay: flex;\r\n\tflex-direction: row;\r\n\tjustify-content: space-around;\r\n\tmargin: 0;\r\n\tpadding: 0 5px;\r\n\t@media (max-width: 800px) {\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t@media (max-width: 400px) {\r\n\t\tflex-wrap: wrap;\r\n\t\talign-content: center;\r\n\t}\r\n`\r\n\r\nconst HeaderItem = styled.li`\r\n\tcolor: #fff;\r\n\theight: 50px;\r\n\ttext-align: center;\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\tborder-bottom: 5px solid #161732;\r\n\t@media (max-width: 400px) {\r\n\t\tflex-wrap: wrap;\r\n\t\talign-content: center;\r\n\t\tflex-grow: 1;\r\n\t}\r\n`\r\nconst StyledLink = styled(Link)`\r\n\tcolor: #fff;\r\n\ttext-decoration: none;\r\n\tfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n\tfont-weight: bold;\r\n\tfont-size: 20px;\r\n\tdisplay: flex;\r\n`\r\n\r\nconst HeaderItemSearch = styled(HeaderItem)`\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tborder-bottom: none;\r\n\tmargin-right: 200px;\r\n\t@media (max-width: 1200px) {\r\n\t\tmargin-right: 0;\r\n\t}\r\n\t@media (max-width: 400px) {\r\n\t\tmin-width: 300px;\r\n\t\torder: 3;\r\n\t}\r\n`\r\n\r\nexport {\r\n\tHeaderWrapper,\r\n\tLogo,\r\n\tHeaderList,\r\n\tHeaderItem,\r\n\tStyledLink,\r\n\tHeaderItemSearch,\r\n}\r\n","import React from 'react'\r\nimport HeaderSearchContainer from '../../containers/HeaderSearchContainer'\r\nimport {\r\n\tHeaderWrapper,\r\n\tLogo,\r\n\tHeaderList,\r\n\tHeaderItem,\r\n\tStyledLink,\r\n\tHeaderItemSearch,\r\n} from './style'\r\n\r\nexport default function Header() {\r\n\treturn (\r\n\t\t<HeaderWrapper>\r\n\t\t\t<HeaderList>\r\n\t\t\t\t<StyledLink to=\"/best\">\r\n\t\t\t\t\t<Logo>JustMovieSearcher</Logo>\r\n\t\t\t\t</StyledLink>\r\n\t\t\t\t<HeaderItemSearch>\r\n\t\t\t\t\t<HeaderSearchContainer />\r\n\t\t\t\t</HeaderItemSearch>\r\n\t\t\t\t<HeaderItem>\r\n\t\t\t\t\t<StyledLink to=\"/best\">Best</StyledLink>\r\n\t\t\t\t</HeaderItem>\r\n\t\t\t\t<HeaderItem>\r\n\t\t\t\t\t<StyledLink to=\"/favorites\">Favorites</StyledLink>\r\n\t\t\t\t</HeaderItem>\r\n\t\t\t</HeaderList>\r\n\t\t</HeaderWrapper>\r\n\t)\r\n}\r\n","import styled from 'styled-components'\r\n\r\nconst AppWrapper = styled.div`\r\n\tbackground-color: Snow;\r\n\theight: 100%;\r\n\twidth: 100%;\r\n`\r\nconst CenterLoadingWrapper = styled.div`\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n`\r\n\r\nexport { AppWrapper, CenterLoadingWrapper }\r\n","import styled from 'styled-components'\r\nconst ErrorWrapper = styled.div`\r\n\tmargin: 0 auto;\r\n\ttext-align: center;\r\n`\r\n\r\nconst ErrorTitle = styled.h2`\r\n\tmargin: 0;\r\n\tfont-size: 200px;\r\n\tfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n`\r\n\r\nconst ErrorText = styled.p`\r\n\tfont-size: 40px;\r\n\tfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\r\n`\r\n\r\nconst ErrorInfo = styled(ErrorText)`\r\n\tfont-size: 15px;\r\n\tfont-style: italic;\r\n`\r\n\r\nexport { ErrorWrapper, ErrorTitle, ErrorText, ErrorInfo }\r\n","import React from 'react'\r\nimport { ErrorWrapper, ErrorTitle, ErrorText, ErrorInfo } from './style'\r\n\r\ninterface ErrorPageProps {\r\n\terror: string | null;\r\n}\r\n\r\nexport default function ErrorPage(props: ErrorPageProps) {\r\n\treturn (\r\n\t\t<ErrorWrapper>\r\n\t\t\t<ErrorTitle>Sorry</ErrorTitle>\r\n\t\t\t<ErrorText>Something gone wrong</ErrorText>\r\n\t\t\t<ErrorInfo>{props.error}</ErrorInfo>\r\n\t\t</ErrorWrapper>\r\n\t)\r\n}\r\n","import React from 'react'\r\nimport { Component } from 'react'\r\nimport ErrorPage from '../ErrorPage/ErrorPage'\r\nimport styled from 'styled-components'\r\n\r\nconst MainWrapper = styled.main`\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n`\r\n\r\ninterface Error {\r\n\tmessage: string;\r\n}\r\n\r\nexport default class MainWrapperBoundary extends Component {\r\n\tpublic state = {\r\n\t\tisError: false,\r\n\t\terror: null,\r\n\t}\r\n\tpublic static getDerivedStateFromError(error: Error) {\r\n\t\treturn { isError: true, error: error.message }\r\n\t}\r\n\r\n\tpublic render() {\r\n\t\tif (this.state.isError) {\r\n\t\t\treturn <ErrorPage error={this.state.error} />\r\n\t\t}\r\n\r\n\t\t// eslint-disable-next-line react/prop-types\r\n\t\treturn <MainWrapper>{this.props.children}</MainWrapper>\r\n\t}\r\n}\r\n\r\n","import React from 'react'\nimport { Suspense } from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport Header from '../Header/Header'\nimport ReactLoading from 'react-loading'\nimport { AppWrapper, CenterLoadingWrapper } from './style'\nimport ErrorPage from '../ErrorPage/ErrorPage'\nimport MainWrapperBoundary from '../MainWrapperBoundary/MainWrapperBoundary'\n\nconst Best = React.lazy(() => import('../../containers/Best'))\nconst FilmPageContainer = React.lazy(() => import('../../containers/FilmPageContainer'))\nconst Search = React.lazy(() => import('../../containers/Search'))\nconst Favorites = React.lazy(() => import('../../containers/Favorites'))\n\nfunction App() {\n\treturn (\n\t\t<AppWrapper>\n\t\t\t<Header />\n\t\t\t<MainWrapperBoundary>\n\t\t\t\t<Suspense\n\t\t\t\t\tfallback={\n\t\t\t\t\t\t<CenterLoadingWrapper>\n\t\t\t\t\t\t\t<ReactLoading type=\"bubbles\" color=\"black\" />\n\t\t\t\t\t\t</CenterLoadingWrapper>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\" component={Best} />\n\t\t\t\t\t\t<Route exact path=\"/404\" component={ErrorPage} />\n\t\t\t\t\t\t<Route exact path=\"/film/:id\" component={FilmPageContainer} />\n\t\t\t\t\t\t<Route exact path=\"/best\" component={Best} />\n\t\t\t\t\t\t<Route exact path=\"/favorites\" component={Favorites} />\n\t\t\t\t\t\t<Route exact path=\"/search\" component={Search} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</Suspense>\n\t\t\t</MainWrapperBoundary>\n\t\t</AppWrapper>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { BrowserRouter } from 'react-router-dom'\nimport store from './store/store'\nimport { Provider } from 'react-redux'\nimport 'normalize.css'\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</Provider>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}