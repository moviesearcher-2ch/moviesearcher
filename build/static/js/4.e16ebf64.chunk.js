(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{102:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(23),a=n(6),s=n.n(a),l=n(15),u=n(27),c=n(1),p=n(35);var d=n(98);t.default=Object(i.b)(function(e){return{filmsBest:e.filmsBest,error:e.error}},function(e){return{dispatch:e}},function(e,t){var n=e.filmsBest,r=e.error,o=t.dispatch;return{fetchData:function(){o(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(){var t=Object(l.a)(s.a.mark(function t(n){var r,o,i,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:c.a.GET_BEST_REQUEST}),t.prev=1,t.next=4,p.a.get("/movie/top_rated?api_key=".concat(u.a,"&page=").concat(e));case 4:if(200!==(r=t.sent).status){t.next=12;break}o=r.data,i=o.total_pages,a=o.results.map(function(e){var t=e.id,n=e.poster_path,r=e.title;return{id:t,overview:e.overview,title:r,posterUrl:n}}),n({type:c.a.GET_BEST_SUCCESS,payload:{data:a,totalPages:i}}),t.next=13;break;case 12:throw new Error(r.data.status_code);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),n({type:c.a.GET_ERROR,payload:t.t0.message});case 18:case"end":return t.stop()}},t,null,[[1,15]])}));return function(e){return t.apply(this,arguments)}}()}(n.currentPage))},films:n,resetBestPage:function(){o({type:c.a.NEW_BEST_REQUEST})},error:r}})(function(e){return Object(r.useEffect)(function(){return e.fetchData(),function(){return e.resetBestPage()}},[]),o.a.createElement(d.a,e)})},96:function(e,t,n){e.exports=n(97)},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=s(o),a=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollListener=n.scrollListener.bind(n),n.eventListenerOptions=n.eventListenerOptions.bind(n),n.mousewheelListener=n.mousewheelListener.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(n){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,n=this.getParentElement(e),r=void 0;if(this.props.useWindow){var o=document.documentElement||document.body.parentNode||document.body,i=void 0!==t.pageYOffset?t.pageYOffset:o.scrollTop;r=this.props.isReverse?i:this.calculateOffset(e,i)}else r=this.props.isReverse?n.scrollTop:e.scrollHeight-n.scrollTop-n.clientHeight;r<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,"function"===typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),n=t.children,r=t.element,o=t.hasMore,a=(t.initialLoad,t.isReverse),s=t.loader,l=(t.loadMore,t.pageStart,t.ref),u=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));u.ref=function(t){e.scrollComponent=t,l&&l(t)};var c=[n];return o&&(s?a?c.unshift(s):c.push(s):this.defaultLoader&&(a?c.unshift(this.defaultLoader):c.push(this.defaultLoader))),i.default.createElement(r,u,c)}}]),t}();l.propTypes={children:a.default.node.isRequired,element:a.default.node,hasMore:a.default.bool,initialLoad:a.default.bool,isReverse:a.default.bool,loader:a.default.node,loadMore:a.default.func.isRequired,pageStart:a.default.number,ref:a.default.func,getScrollParent:a.default.func,threshold:a.default.number,useCapture:a.default.bool,useWindow:a.default.bool},l.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=l,e.exports=t.default},98:function(e,t,n){"use strict";var r=n(13),o=n(0),i=n.n(o),a=n(99),s=n.n(a),l=n(2),u=n(3),c=n(19);function p(){var e=Object(l.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]);return p=function(){return e},e}function d(){var e=Object(l.a)(["\n\tpadding: 5px;\n\tbox-sizing: border-box;\n\tdisplay: block;\n\tmin-height: 17%;\n\tbackground-color: rgb(0, 0, 0, 0.4);\n\twidth: 100%;\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tmargin: 0;\n\topacity: 0;\n\tcolor: rgba(255, 255, 255, 0.87);\n\tfont-size: 14px;\n\tfont-family: Tahoma, Sedona;\n\ttransition: opacity 0.1s ease-in;\n\t",":hover & {\n\t\topacity: 1;\n\t}\n\t@media (max-width: 1100px) {\n\t\topacity: 1;\n\t}\n"]);return d=function(){return e},e}function f(){var e=Object(l.a)(["\n\tpadding: 5px;\n\tbox-sizing: border-box;\n\tdisplay: block;\n\tmin-height: 17%;\n\tbackground-color: rgb(0, 0, 0, 0.4);\n\tword-wrap: break-word;\n\twidth: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tmargin: 0;\n\tcolor: rgba(255, 255, 255, 0.87);\n\tfont-size: 30px;\n\tfont-family: Tahoma, Sedona;\n\topacity: 0;\n\ttransition: opacity 0.1s ease-in;\n\t",":hover & {\n\t\topacity: 1;\n\t}\n\t@media (max-width: 1100px) {\n\t\topacity: 1;\n\t}\n"]);return f=function(){return e},e}function h(){var e=Object(l.a)(["\n\tposition: relative;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground-color: #f1f3f4;\n\twidth: 355px;\n\theight: 533px;\n\tmargin: 0;\n\tbackground-size: cover;\n\tbox-shadow: 0px 0px 10px -4px black;\n\t@media (max-width: 500px) {\n\t\twidth: 225px;\n\t\theight: 337px;\n\t}\n"]);return h=function(){return e},e}var m=u.a.div(h()),v=u.a.h2(f(),m),b=u.a.ul(d(),m),g=Object(u.a)(c.b)(p());function y(e){var t=e.film;if(void 0===t)return i.a.createElement(g,{to:"/"},i.a.createElement(m,null,i.a.createElement(s.a,{height:533})));var n=t.id,r=t.overview,o=t.title,a=t.posterUrl;return i.a.createElement(g,{to:"/film/".concat(n)},i.a.createElement(m,{style:{backgroundImage:"url(https://image.tmdb.org/t/p/w500".concat(a,")")}},i.a.createElement(v,null,o),i.a.createElement(b,null,r)))}var w=n(96),E=n.n(w);function L(){var e=Object(l.a)(["\n\tfont-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n\tfont-size: 30px;\n"]);return L=function(){return e},e}function x(){var e=Object(l.a)(["\n\tlist-style: none;\n\tmargin: auto;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fill, minmax(355px, 1fr));\n\tgrid-gap: 20px;\n\talign-items: center;\n\tpadding: 25px 0;\n\t@media (max-width: 500px) {\n\t\tgrid-template-columns: 1fr;\n\t}\n"]);return x=function(){return e},e}var k=u.a.ul(x()),S=u.a.h2(L()),P=n(36),O=n.n(P);function T(e){var t=e.fetchData,n=e.films,o=e.error,a=n.data,s=n.isLoading,l=n.currentPage,u=n.totalPages;if(o.isError)throw Error(o.error);var c=a.map(function(e){return i.a.createElement("li",{key:e.id},i.a.createElement(y,{film:e}))}),p=Array(10).fill(1).map(function(e,t){return i.a.createElement("li",{key:t},i.a.createElement(y,null))});return 0===c.length?i.a.createElement(S,null,e.placeholder):i.a.createElement(E.a,{pageStart:0,loadMore:function(){return t()},hasMore:!s&&l<=u,loader:i.a.createElement(O.a,{key:-1,type:"bubbles",color:"black"}),initialLoad:!1},i.a.createElement(k,null,s?[].concat(Object(r.a)(c),Object(r.a)(p)):c))}n.d(t,"a",function(){return T})}}]);
//# sourceMappingURL=4.e16ebf64.chunk.js.map